<div id="paginator"><%= paginate @cards, remote: true %></div>
<div id="cards-table" class="card-results">
  <table>
    <tr class="sort">
      <th><%= sort_link @search, :name, "Name" %></th>
      <th><%= sort_link @search, :cmc,  "ManaCost" %></th>
      <th>Type - Subtype</th>
      <th>Rarity</th>
      <th>Text</th>
      <th>Power/Toughness</th>
      <th>CardImage</th>
      <th>Price</th>
      <th>Shopping</th>
    </tr>
    <% @cards.each do |card| %>
      <tr>
        <td>
          <%= link_to card.name, card_multiverseid_path(card.multiverseid) %>
        </td>
        <td><%= card.mana_cost %></td>
        <td><%= card.type_and_subtype %></td>
        <td><%= card.rarity %></td>
        <td><%= card.text %></td>
        <td><%= card.power_and_toughness %></td>
        <td>
          <a href="<%= card_multiverseid_path(card.multiverseid) %>">
            <img src="<%= card.fetch_image %>" alt="<%= card.name %>" id="card-image" />
          </a>
        </td>
        <td><%= card.price %></td>
        <td>
          <div class="actions">
            <% if card.price %>
              <%= link_to "Add to Cart", line_items_path(:card_id => card), :method => :post %>
            <% else %>
              <p>Card not available.</p>
            <% end %>
          </div>
        </td>
      </tr>
    <% end %>
  </table>
</div>
<div id="paginator"><%= paginate @cards, remote: true %></div>
